{"components":{"callbacks":{},"examples":{},"headers":{},"links":{},"parameters":{},"requestBodies":{},"responses":{},"schemas":{"ActorInsight":{"properties":{"actor":{"description":"The actor\u0027s name.","type":"string"},"insight":{"$ref":"#/components/schemas/InsightMetric"}},"required":["actor","insight"],"type":"object"},"AudienceCategory":{"description":"Categories of audiences that are supported.","enum":["ADVERTISER_AUDIENCES","COMBINED_AUDIENCES","CUSTOM_BUILT","DEMOGRAPHIC","INTEREST","IN_MARKET","LIFESTYLE","LIFE_EVENT","LOOKALIKE","THIRD_PARTY"],"type":"string"},"AudienceInsight":{"properties":{"audienceDetailPageUrl":{"description":"Link to the audience details page within the Amazon Advertising Console for the given audience.","type":"string"},"category":{"description":"Category of the audience segment. Example: interests","type":"string"},"forecast":{"$ref":"#/components/schemas/Forecast"},"id":{"description":"Identifier for the target audience.","type":"string"},"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"name":{"description":"Name of the target audience.","type":"string"}},"required":["category","forecast","id","insightMetrics","name"],"type":"object"},"AudienceTargetingExpression":{"properties":{"audiences":{"description":"Specify groups of audiences to include or exclude when targeting.\u003cul\u003e\u003cli\u003eIncluded groups are joined by an intersection. Users must be in all of the groups specified to be included.\u003c/li\u003e\u003cli\u003eAudiences within a group are joined by a union. Users can be in any of the audiences specified to be included/excluded.\u003c/li\u003e\u003cli\u003eUsers within the same group must either be included or excluded.\u003c/li\u003e\u003cli\u003eYou can specify up to 10 groups to be included, but only 1 group to be excluded.\u003c/li\u003e\u003cli\u003eUp to 500 audienceIds can be specified per group.\u003c/li\u003e\u003cul\u003e","items":{"$ref":"#/components/schemas/AudienceV1"},"maxItems":5500,"minItems":1,"type":"array"}},"required":["audiences"],"type":"object"},"AudienceV1":{"properties":{"audienceId":{"description":"An audience identifier retrieved from the audiences/list resource.","type":"string"},"groupId":{"description":"A customer-provided string used to create a group of audiences. This string is only used for this single request. Amazon does not store it.","type":"string"},"negative":{"description":"Whether to include (false) or exclude (true) audiences when targeting. Only one state may be used per groupId","type":"boolean"}},"required":["audienceId","groupId","negative"],"type":"object"},"BandedSizeInsights":{"properties":{"max":{"description":"Optional: The upper bound of estimated unique customers who are in the input audience set.\n                    If it is not present, this means there is no upper bound. For example, a value of\n                    {\"min\" : 100000000} alone means the estimated unique customers who are in the input\n                    audience set is 100M or more.","minimum":0,"type":"number"},"min":{"description":"The lower bound of estimated unique customers who are in the input audience set.","minimum":0,"type":"number"}},"required":["min"],"type":"object"},"BandedSizeResponseContent":{"properties":{"estimatedSize":{"$ref":"#/components/schemas/BandedSizeInsights"},"lastUpdatedAt":{"description":"UTC timestamp in ISO 8601 format indicating when insight was last generated for the audience targeting expression.","format":"date-time","type":"string"}},"required":["estimatedSize","lastUpdatedAt"],"type":"object"},"BrowseNode":{"properties":{"browseNodeName":{"description":"Name of the browse node in native language of the marketplace.","type":"string"}},"required":["browseNodeName"],"type":"object"},"Currency":{"description":"Currency which represents the income figures. This will be native to the input marketplace.","enum":["AED","AUD","BRL","CAD","EUR","GBP","INR","JPY","MXN","SAR","SEK","TRY","USD"],"type":"string"},"DateRangeInsight":{"properties":{"endDate":{"description":"UTC timestamp in ISO 8601 format indicating the end date of the insight.","format":"date-time","type":"string"},"startDate":{"description":"UTC timestamp in ISO 8601 format indicating the start date of the insight.","format":"date-time","type":"string"}},"required":["endDate","startDate"],"type":"object"},"DemographicInsights":{"properties":{"age":{"items":{"$ref":"#/components/schemas/RangedDemographicInsight"},"maxItems":10,"minItems":1,"type":"array"},"childrenAge":{"items":{"$ref":"#/components/schemas/RangedDemographicInsight"},"maxItems":10,"minItems":1,"type":"array"},"childrenCount":{"items":{"$ref":"#/components/schemas/RangedDemographicInsight"},"maxItems":10,"minItems":1,"type":"array"},"education":{"items":{"$ref":"#/components/schemas/EducationInsight"},"maxItems":4,"minItems":2,"type":"array"},"gender":{"items":{"$ref":"#/components/schemas/GenderInsight"},"maxItems":4,"minItems":2,"type":"array"},"income":{"items":{"$ref":"#/components/schemas/IncomeDemographicInsight"},"maxItems":10,"minItems":1,"type":"array"},"propertyOwnership":{"items":{"$ref":"#/components/schemas/PropertyOwnershipInsight"},"maxItems":2,"minItems":2,"type":"array"}},"type":"object"},"DemographicsResponseContent":{"properties":{"demographics":{"$ref":"#/components/schemas/DemographicInsights"},"lastUpdatedAt":{"description":"UTC timestamp in ISO 8601 format indicating when insight was last generated for the input audience set.","format":"date-time","type":"string"}},"required":["demographics","lastUpdatedAt"],"type":"object"},"DirectorInsight":{"properties":{"director":{"description":"The director\u0027s name.","type":"string"},"insight":{"$ref":"#/components/schemas/InsightMetric"}},"required":["director","insight"],"type":"object"},"DspBadRequestExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"DspForbiddenExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"DspInternalServerExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"DspNotFoundExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"DspSubErrorV1":{"properties":{"errorType":{"type":"string"},"fieldName":{"type":"string"},"message":{"type":"string"}},"required":["errorType","message"],"type":"object"},"DspTooManyRequestsExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"DspUnauthorizedExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"DspUnsupportedMediaTypeExceptionV1ResponseContent":{"properties":{"errors":{"items":{"$ref":"#/components/schemas/DspSubErrorV1"},"maxItems":100,"minItems":1,"type":"array"},"message":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"Education":{"enum":["BACHELORS_DEGREE","BACHELOR_DEGREE_OR_MORE","GRADUATE_DEGREE","HIGH_SCHOOL","SOME_COLLEGE"],"type":"string"},"EducationInsight":{"properties":{"attribute":{"$ref":"#/components/schemas/Education"},"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"segmentId":{"description":"Canonical ID of the segment the demographic insight attribute maps to.","type":"string"}},"required":["attribute","insightMetrics","segmentId"],"type":"object"},"Forecast":{"properties":{"dailyImpressions":{"$ref":"#/components/schemas/ForecastBands"},"dailyReach":{"$ref":"#/components/schemas/ForecastBands"}},"required":["dailyImpressions","dailyReach"],"type":"object"},"ForecastBands":{"properties":{"lowerBound":{"description":"minimum number of devices reached/ minimum number of available impressions.","type":"number"},"upperBound":{"description":"Optional: maximum number of devices reached/ maximum number of available impressions.\n\t               If it is not present, this means there is no upper bound. For example, a value of\n\t               {\"lowerbound\" : 100000000} alone means the estimated reach/impression forecast is over 100M.","type":"number"}},"required":["lowerBound"],"type":"object"},"Gender":{"enum":["BOTH","FEMALE","MALE","UNKNOWN"],"type":"string"},"GenderInsight":{"properties":{"attribute":{"$ref":"#/components/schemas/Gender"},"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"segmentId":{"description":"Canonical ID of the segment the demographic insight attribute maps to.","type":"string"}},"required":["attribute","insightMetrics"],"type":"object"},"GenreInsight":{"properties":{"genre":{"description":"A human readable genre name.","type":"string"},"insight":{"$ref":"#/components/schemas/InsightMetric"}},"required":["genre","insight"],"type":"object"},"IncomeDemographicInsight":{"properties":{"currency":{"$ref":"#/components/schemas/Currency"},"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"range":{"$ref":"#/components/schemas/Range"},"segmentId":{"description":"Canonical ID of the segment the demographic insight attribute maps to.","type":"string"}},"required":["currency","insightMetrics","range","segmentId"],"type":"object"},"InputExpression":{"description":"The input expression should consist of audience targeting expression.","properties":{"audienceTargetingExpression":{"$ref":"#/components/schemas/AudienceTargetingExpression"}},"required":["audienceTargetingExpression"],"type":"object"},"InsightMetric":{"properties":{"affinity":{"description":"Affinity is a measure of how likely customers in the input audience are to belong to this segment. An\n                    affinity of 5 indicates that customers in the input audience are 5 times as likely to belong to this\n                    segment than the average of customers on Amazon.","format":"double","minimum":0,"type":"number"},"overlapPercentage":{"description":"Percentage of customers in the input audience who are part of this segment. For example, a value of 5\n                    means 5% of customers in this segment share the input audience.","format":"double","maximum":100,"minimum":0,"type":"number"}},"required":["affinity","overlapPercentage"],"type":"object"},"MovieInsight":{"properties":{"insight":{"$ref":"#/components/schemas/InsightMetric"},"movie":{"description":"A human readable movie name.","type":"string"}},"required":["insight","movie"],"type":"object"},"PrimeVideoCategory":{"description":"Prime video\u0027s supported categories.","enum":["ACTORS","DIRECTORS","GENRES","MOVIES","SERIES"],"type":"string"},"PrimeVideoInputExpression":{"description":"The input expression should consist of audience targeting expression.","properties":{"audienceTargetingExpression":{"$ref":"#/components/schemas/AudienceTargetingExpression"},"categoryFilter":{"description":"Optional: A list of prime video categories to filter insights on. By default it will return all\n                   prime video category types in response.","items":{"$ref":"#/components/schemas/PrimeVideoCategory"},"maxItems":4,"minItems":1,"type":"array","uniqueItems":true}},"required":["audienceTargetingExpression"],"type":"object"},"PrimeVideoInsight":{"properties":{"actors":{"items":{"$ref":"#/components/schemas/ActorInsight"},"maxItems":50,"minItems":0,"type":"array"},"dateRange":{"$ref":"#/components/schemas/DateRangeInsight"},"directors":{"items":{"$ref":"#/components/schemas/DirectorInsight"},"maxItems":50,"minItems":0,"type":"array"},"genres":{"items":{"$ref":"#/components/schemas/GenreInsight"},"maxItems":50,"minItems":0,"type":"array"},"movies":{"items":{"$ref":"#/components/schemas/MovieInsight"},"maxItems":50,"minItems":0,"type":"array"},"series":{"items":{"$ref":"#/components/schemas/SeriesInsight"},"maxItems":50,"minItems":0,"type":"array"}},"type":"object"},"PrimeVideoResponseContent":{"properties":{"lastUpdatedAt":{"description":"UTC timestamp in ISO 8601 format indicating when insight was last generated for the input expression.","format":"date-time","type":"string"},"primeVideoInsights":{"$ref":"#/components/schemas/PrimeVideoInsight"}},"required":["lastUpdatedAt","primeVideoInsights"],"type":"object"},"PropertyOwnership":{"enum":["OWNING","RENTING"],"type":"string"},"PropertyOwnershipInsight":{"properties":{"attribute":{"$ref":"#/components/schemas/PropertyOwnership"},"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"segmentId":{"description":"Canonical ID of the segment the demographic insight attribute maps to.","type":"string"}},"required":["attribute","insightMetrics","segmentId"],"type":"object"},"Range":{"properties":{"max":{"description":"Upper bound of the range (inclusive). Optional - if max does not exist then the range has no upper\n                    bound and is bound by the min range alone. Either one of max or min will always exist.","minimum":0,"type":"number"},"min":{"description":"Lower bound of the range (inclusive). Optional - if min does not exist then the range has no lower\n                    bound and is bound by the max range alone. Either one of max or min will always exist.","minimum":0,"type":"number"}},"type":"object"},"RangedDemographicInsight":{"properties":{"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"range":{"$ref":"#/components/schemas/Range"},"segmentId":{"description":"Canonical ID of the segment the demographic insight attribute maps to.","type":"string"}},"required":["insightMetrics","range","segmentId"],"type":"object"},"SeriesInsight":{"properties":{"insight":{"$ref":"#/components/schemas/InsightMetric"},"series":{"description":"A human readable TV Series name.","type":"string"}},"required":["insight","series"],"type":"object"},"TopCategoriesPurchasedResponseContent":{"properties":{"lastUpdatedAt":{"description":"UTC timestamp in ISO 8601 format indicating when insight was last generated for the input audience set.","format":"date-time","type":"string"},"nextToken":{"description":"Optional: If present, there are more insights than initially returned. Use this token to call the operation again\n                    and have the additional insights returned. The token is valid for 8 hours from the initial request.","type":"string"},"retailCategories":{"description":"Top retail categories purchased by customers in the input expression., ordered by the affinity score.\n                    \n \n Affinity represents a measure of how likely customers in the input expression are to make a purchase\n                    from the category. An affinity of 5 indicates that customers in the input expression are 5 times as likely to\n                    buy from this category than the average of customers on Amazon.","items":{"$ref":"#/components/schemas/TopRetailCategoryInsight"},"maxItems":30,"minItems":1,"type":"array"}},"required":["lastUpdatedAt","retailCategories"],"type":"object"},"TopOverlappingAudiencesInputExpression":{"description":"The input expression should consist of audience targeting expression.","properties":{"audienceTargetingExpression":{"$ref":"#/components/schemas/AudienceTargetingExpression"},"categoryFilter":{"description":"Optional: A list of audience categories to filter insights on. By default it will return all audience category types in response, ordered by affinity score.","items":{"$ref":"#/components/schemas/AudienceCategory"},"maxItems":8,"minItems":1,"type":"array","uniqueItems":true}},"required":["audienceTargetingExpression"],"type":"object"},"TopOverlappingAudiencesResponseContent":{"properties":{"audiences":{"description":"Top audiences associated with customers in the input expression, ordered by the affinity score.\n                    \n Affinity is a measure of how likely customers in the input expression are to belong to a specific\n                    audience. An affinity of 5 for some audience indicates that customers in the input expression set\n                    are 5 times as likely to belong to this audience than the average of customers on Amazon.","items":{"$ref":"#/components/schemas/AudienceInsight"},"maxItems":30,"minItems":1,"type":"array"},"lastUpdatedAt":{"description":"UTC timestamp in ISO 8601 format indicating when insight was last generated for the input audience set.","format":"date-time","type":"string"},"nextToken":{"description":"Optional: If present, there are more insights than initially returned. Use this token to call the operation again and have the additional insights returned. The token is valid for 8 hours from the initial request.","type":"string"}},"required":["audiences","lastUpdatedAt"],"type":"object"},"TopRetailCategoryInsight":{"properties":{"id":{"description":"Identifier of retail category.","type":"string"},"insightMetrics":{"$ref":"#/components/schemas/InsightMetric"},"name":{"description":"Name of retail category.","type":"string"},"path":{"description":"The hierarchical path that leads to a category node, starting with the root node.","items":{"$ref":"#/components/schemas/BrowseNode"},"maxItems":5,"minItems":0,"type":"array"}},"required":["id","insightMetrics","name","path"],"type":"object"}},"securitySchemes":{}},"info":{"description":"DSP Persona Builder API.","title":"Persona Builder API","version":"3.0"},"openapi":"3.0.1","paths":{"/insights/bandedSize":{"post":{"description":"Get banded size of number of unique customers that are in the input expression.\n\n**Requires one of these permissions**:\n[]","operationId":"BandedSize","parameters":[{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","in":"query","name":"advertiserId","required":true,"schema":{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.bandedsizeinputexpression.v1+json":{"examples":{"BandedSize_example1":{"description":"An example of BandedSize with Audience Targeting Expression as an input.","summary":"Audience Targeting Expression as an input","value":{"audienceTargetingExpression":{"audiences":[{"audienceId":"12345","groupId":"customerProvidedString1","negative":"false"},{"audienceId":"23456","groupId":"customerProvidedString1","negative":"false"}]}}}},"schema":{"$ref":"#/components/schemas/InputExpression"}}}},"responses":{"200":{"content":{"application/vnd.bandedsizeinsights.v1+json":{"examples":{"BandedSize_example1":{"summary":"An example of BandedSize response","value":{"estimatedSize":{"max":500000,"min":100000},"lastUpdatedAt":"2023-04-03T19:35:20.567Z"}}},"schema":{"$ref":"#/components/schemas/BandedSizeResponseContent"}}},"description":"Successful operation."},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspBadRequestExceptionV1ResponseContent"}}},"description":"Bad Request or request body is not matching with input model."},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnauthorizedExceptionV1ResponseContent"}}},"description":"Unauthenticated request."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspForbiddenExceptionV1ResponseContent"}}},"description":"Forbidden - Request failed because user is not authorized to access a resource."},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspNotFoundExceptionV1ResponseContent"}}},"description":"Not Found - Requested resource does not exist or is not visible for the authenticated user."},"415":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnsupportedMediaTypeExceptionV1ResponseContent"}}},"description":"Unsupported Media Type - Version not supported."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspTooManyRequestsExceptionV1ResponseContent"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspInternalServerExceptionV1ResponseContent"}}},"description":"Internal Server Error."}},"tags":["Persona Builder API"]}},"/insights/demographics":{"post":{"description":"Get demographic insights for the input expression.\n\n**Requires one of these permissions**:\n[]","operationId":"Demographics","parameters":[{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","in":"query","name":"advertiserId","required":true,"schema":{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.demographicinputexpressions.v1+json":{"examples":{"Demographics_example1":{"description":"An example of Demographics API input expression using Audience Targeting Expression as an input.","summary":"Audience Targeting Expression as an input","value":{"audienceTargetingExpression":{"audiences":[{"audienceId":"12345","groupId":"customerProvidedString1","negative":"false"},{"audienceId":"23456","groupId":"customerProvidedString1","negative":"false"}]}}}},"schema":{"$ref":"#/components/schemas/InputExpression"}}}},"responses":{"200":{"content":{"application/vnd.demographicinsights.v1+json":{"examples":{"Demographics_example1":{"summary":"An example of Demographics response","value":{"demographics":{"gender":[{"attribute":"MALE","insightMetrics":{"affinity":"2.1","overlapPercentage":"55"},"segmentId":"12345"},{"attribute":"FEMALE","insightMetrics":{"affinity":"1.9","overlapPercentage":"45"},"segmentId":"23456"}],"propertyOwnership":[{"attribute":"OWNING","insightMetrics":{"affinity":"2.1","overlapPercentage":"55"},"segmentId":"34567"},{"attribute":"RENTING","insightMetrics":{"affinity":"1.9","overlapPercentage":"45"},"segmentId":"45678"}]},"lastUpdatedAt":"2023-04-03T19:35:20.567Z"}}},"schema":{"$ref":"#/components/schemas/DemographicsResponseContent"}}},"description":"Successful operation."},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspBadRequestExceptionV1ResponseContent"}}},"description":"Bad Request or request body is not matching with input model."},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnauthorizedExceptionV1ResponseContent"}}},"description":"Unauthenticated request."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspForbiddenExceptionV1ResponseContent"}}},"description":"Forbidden - Request failed because user is not authorized to access a resource."},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspNotFoundExceptionV1ResponseContent"}}},"description":"Not Found - Requested resource does not exist or is not visible for the authenticated user."},"415":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnsupportedMediaTypeExceptionV1ResponseContent"}}},"description":"Unsupported Media Type - Version not supported."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspTooManyRequestsExceptionV1ResponseContent"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspInternalServerExceptionV1ResponseContent"}}},"description":"Internal Server Error."}},"tags":["Persona Builder API"]}},"/insights/primeVideo":{"post":{"description":"Get Prime Video insights for the input expression.\n\n**Requires one of these permissions**:\n[]","operationId":"PrimeVideo","parameters":[{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","in":"query","name":"advertiserId","required":true,"schema":{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.primevideoinputexpressions.v1+json":{"examples":{"PrimeVideo_example1":{"description":"An example of PrimeVideo input expression using Audience Targeting Expression as an input.","summary":"Audience Targeting Expression as an input","value":{"audienceTargetingExpression":{"audiences":[{"audienceId":"12345","groupId":"customerProvidedString1","negative":"true"},{"audienceId":"23456","groupId":"customerProvidedString1","negative":"true"}]}}}},"schema":{"$ref":"#/components/schemas/PrimeVideoInputExpression"}}}},"responses":{"200":{"content":{"application/vnd.primevideoinsights.v1+json":{"examples":{"PrimeVideo_example1":{"summary":"An example of PrimeVideo response","value":{"lastUpdatedAt":"2023-04-03T19:35:20.567Z","primeVideoInsights":{"dateRange":{"endDate":"2023-04-04T00:00:00.000Z","startDate":"2023-04-01T00:00:00.000Z"},"genres":[{"genre":"Horror","insight":{"affinity":"1.9","overlapPercentage":"12"}},{"genre":"Comedy","insight":{"affinity":"1.5","overlapPercentage":"10"}}],"series":[{"insight":{"affinity":"1.9","overlapPercentage":"12"},"series":"Series TV 1"},{"insight":{"affinity":"1.5","overlapPercentage":"10"},"series":"Series TV 2"}]}}}},"schema":{"$ref":"#/components/schemas/PrimeVideoResponseContent"}}},"description":"Successful operation."},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspBadRequestExceptionV1ResponseContent"}}},"description":"Bad Request or request body is not matching with input model."},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnauthorizedExceptionV1ResponseContent"}}},"description":"Unauthenticated request."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspForbiddenExceptionV1ResponseContent"}}},"description":"Forbidden - Request failed because user is not authorized to access a resource."},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspNotFoundExceptionV1ResponseContent"}}},"description":"Not Found - Requested resource does not exist or is not visible for the authenticated user."},"415":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnsupportedMediaTypeExceptionV1ResponseContent"}}},"description":"Unsupported Media Type - Version not supported."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspTooManyRequestsExceptionV1ResponseContent"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspInternalServerExceptionV1ResponseContent"}}},"description":"Internal Server Error."}},"tags":["Persona Builder API"]}},"/insights/topCategoriesPurchased":{"post":{"description":"Get insights on top retail categories purchased by customers in the input expression.\n\n**Requires one of these permissions**:\n[]","operationId":"TopCategoriesPurchased","parameters":[{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","in":"query","name":"advertiserId","required":true,"schema":{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","type":"string"}},{"description":"Sets the maximum number of objects in the returned array. Use in conjunction with the nextToken parameter to control pagination. For example, supplying maxResults\u003d20 with a previously returned token will fetch up to the next 20 items. In some cases, fewer items may be returned.\u003cbr/\u003eDefault: 30; \u003cbr/\u003eMinimum: 1; \u003cbr/\u003eMaximum:250.","in":"query","name":"maxResults","schema":{"description":"Sets the maximum number of objects in the returned array. Use in conjunction with the nextToken parameter to control pagination. For example, supplying maxResults\u003d20 with a previously returned token will fetch up to the next 20 items. In some cases, fewer items may be returned.\u003cbr/\u003eDefault: 30; \u003cbr/\u003eMinimum: 1; \u003cbr/\u003eMaximum:250.","maximum":250,"minimum":1,"type":"number"}},{"description":"Operations that return paginated results include a pagination token in this field. To retrieve the next page of results, call the same operation and specify this token in the request. If the nextToken field is empty, there are no further results.","in":"query","name":"nextToken","schema":{"description":"Operations that return paginated results include a pagination token in this field. To retrieve the next page of results, call the same operation and specify this token in the request. If the nextToken field is empty, there are no further results.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.topcategoriespurchasedinputexpression.v1+json":{"examples":{"TopCategoriesPurchased_example1":{"description":"An example of TopCategoriesPurchased using Audience Targeting Expression as an input.","summary":"Audience Targeting Expression as an input","value":{"audienceTargetingExpression":{"audiences":[{"audienceId":"12345","groupId":"customerProvidedString1","negative":"true"},{"audienceId":"23456","groupId":"customerProvidedString1","negative":"true"}]}}}},"schema":{"$ref":"#/components/schemas/InputExpression"}}}},"responses":{"200":{"content":{"application/vnd.topcategoriespurchasedinsights.v1+json":{"examples":{"TopCategoriesPurchased_example1":{"description":"An example of TopCategoriesPurchased response.","value":{"lastUpdatedAt":"2023-04-03T19:35:20.567Z","retailCategories":[{"id":"retailCategoryId1","insightMetrics":{"affinity":"1.5","overlapPercentage":"10"},"name":"Retail Category 1","path":[{"browseNodeName":"Clothing, Shoes \u0026 Jewelry"},{"browseNodeName":"Self Service"},{"browseNodeName":"Special Features Stores"}]},{"id":"retailCategoryId2","insightMetrics":{"affinity":"2.3","overlapPercentage":"12"},"name":"Retail Category 2","path":[{"browseNodeName":"Clothing, Shoes \u0026 Jewelry"},{"browseNodeName":"Self Service"}]}]}}},"schema":{"$ref":"#/components/schemas/TopCategoriesPurchasedResponseContent"}}},"description":"Successful operation."},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspBadRequestExceptionV1ResponseContent"}}},"description":"Bad Request or request body is not matching with input model."},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnauthorizedExceptionV1ResponseContent"}}},"description":"Unauthenticated request."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspForbiddenExceptionV1ResponseContent"}}},"description":"Forbidden - Request failed because user is not authorized to access a resource."},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspNotFoundExceptionV1ResponseContent"}}},"description":"Not Found - Requested resource does not exist or is not visible for the authenticated user."},"415":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnsupportedMediaTypeExceptionV1ResponseContent"}}},"description":"Unsupported Media Type - Version not supported."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspTooManyRequestsExceptionV1ResponseContent"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspInternalServerExceptionV1ResponseContent"}}},"description":"Internal Server Error."}},"tags":["Persona Builder API"]}},"/insights/topOverlappingAudiences":{"post":{"description":"Get top audiences overlapping with the input expression.\n\n**Authorized resource type**:\nDSP Rodeo Entity ID, DSP Advertiser Account ID\n\n**Parameter name**:\nAmazon-Advertising-AccountId\n\n**Parameter in**:\nheader\n\n**Requires one of these permissions**:\n[\"campaign_edit\"]","operationId":"TopOverlappingAudiences","parameters":[{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","in":"query","name":"advertiserId","required":true,"schema":{"description":"The identifier of the advertiser, retrieved from /dsp/advertisers, that you\u0027d like to retrieve insights for.","type":"string"}},{"description":"Sets the maximum number of objects in the returned array. Use in conjunction with the nextToken parameter to control pagination. For example, supplying maxResults\u003d20 with a previously returned token will fetch up to the next 20 items. In some cases, fewer items may be returned.\u003cbr/\u003eDefault: 30; \u003cbr/\u003eMinimum: 1; \u003cbr/\u003eMaximum:250.","in":"query","name":"maxResults","schema":{"description":"Sets the maximum number of objects in the returned array. Use in conjunction with the nextToken parameter to control pagination. For example, supplying maxResults\u003d20 with a previously returned token will fetch up to the next 20 items. In some cases, fewer items may be returned.\u003cbr/\u003eDefault: 30; \u003cbr/\u003eMinimum: 1; \u003cbr/\u003eMaximum:250.","maximum":250,"minimum":1,"type":"number"}},{"description":"Operations that return paginated results include a pagination token in this field. To retrieve the next page of results, call the same operation and specify this token in the request. If the nextToken field is empty, there are no further results.","in":"query","name":"nextToken","schema":{"description":"Operations that return paginated results include a pagination token in this field. To retrieve the next page of results, call the same operation and specify this token in the request. If the nextToken field is empty, there are no further results.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.topoverlappingaudiencesinputexpression.v1+json":{"examples":{"TopOverlappingAudiences_example1":{"description":"An example of TopOverlappingAudiences API input expression using Audience Targeting Expression as an input.","summary":"Audience Targeting Expression as an input","value":{"audienceTargetingExpression":{"audiences":[{"audienceId":"12345","groupId":"customerProvidedString1","negative":"false"},{"audienceId":"23456","groupId":"customerProvidedString1","negative":"false"}]},"categoryFilter":["THIRD_PARTY"]}}},"schema":{"$ref":"#/components/schemas/TopOverlappingAudiencesInputExpression"}}}},"responses":{"200":{"content":{"application/vnd.topoverlappingaudiencesinsights.v1+json":{"examples":{"TopOverlappingAudiences_example1":{"summary":"An example of TopOverlappingAudiences response","value":{"audiences":[{"category":"Demographics","forecast":{"dailyImpressions":{"lowerBound":"10000","upperBound":"50000"},"dailyReach":{"lowerBound":"10000","upperBound":"50000"}},"id":"audienceId1","insightMetrics":{"affinity":"1.5","overlapPercentage":"10"},"name":"Name of audience 1"},{"category":"Demographics","forecast":{"dailyImpressions":{"lowerBound":"50000","upperBound":"100000"},"dailyReach":{"lowerBound":"50000","upperBound":"100000"}},"id":"audienceId2","insightMetrics":{"affinity":"3","overlapPercentage":"20"},"name":"Name of audience 2"}],"lastUpdatedAt":"2023-04-03T19:35:20.567Z","nextToken":"string"}}},"schema":{"$ref":"#/components/schemas/TopOverlappingAudiencesResponseContent"}}},"description":"Successful operation."},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspBadRequestExceptionV1ResponseContent"}}},"description":"Bad Request or request body is not matching with input model."},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnauthorizedExceptionV1ResponseContent"}}},"description":"Unauthenticated request."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspForbiddenExceptionV1ResponseContent"}}},"description":"Forbidden - Request failed because user is not authorized to access a resource."},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspNotFoundExceptionV1ResponseContent"}}},"description":"Not Found - Requested resource does not exist or is not visible for the authenticated user."},"415":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspUnsupportedMediaTypeExceptionV1ResponseContent"}}},"description":"Unsupported Media Type - Version not supported."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspTooManyRequestsExceptionV1ResponseContent"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DspInternalServerExceptionV1ResponseContent"}}},"description":"Internal Server Error."}},"tags":["Persona Builder API"]}}}}