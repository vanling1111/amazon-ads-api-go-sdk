{"components":{"callbacks":{},"examples":{},"headers":{},"links":{},"parameters":{},"requestBodies":{},"responses":{},"schemas":{"DspAudienceCreateRequestItem":{"description":"Complete audience model to be used for creation of the audience.","properties":{"audienceType":{"description":"Type of audience to create.","enum":["PRODUCT_PURCHASES","PRODUCT_SEARCH","PRODUCT_SIMS","PRODUCT_VIEWS","WHOLE_FOODS_MARKET_PURCHASES"],"type":"string"},"country":{"description":"The ISO Alpha-2 code for the country in which the audience will be available during audience discovery and targeting setup.\n\n**Notes:** \n- If you are using a Global Advertising account, this field is required.\n- If you are not using a Global Advertising account, this field is optional. If used, it must be same as the advertiser\u0027s country.\n","enum":["AE","AU","BR","CA","DE","ES","FR","GB","IN","IT","JP","MX","NL","SA","SE","TR","US"],"example":"US","maxLength":2,"minLength":2,"type":"string"},"description":{"description":"The audience description.","maxLength":1000,"minLength":1,"type":"string"},"idempotencyKey":{"description":"The unique UUID for this requested audience.","format":"uuid","type":"string"},"lookback":{"description":"The specified time period (in days) to include those who performed the action in the audience.\nLookback Constraints Table: Provides available valid values of lookback allowed for given audienceType\n  | audienceType | lookback range |\n  |------------------------------|-------|\n  | PRODUCT_PURCHASES            | 1-365 |\n  | PRODUCT_VIEWS                |  1-90 |\n  | PRODUCT_SEARCH               |  1-90 |\n  | PRODUCT_SIMS                 |  1-90 |\n  | WHOLE_FOODS_MARKET_PURCHASES | 1-365 |\n","maximum":365,"minimum":1,"type":"integer"},"name":{"description":"The audience name.","maxLength":128,"minLength":1,"type":"string"},"rules":{"description":"The set of rules defining an audience; these rules will be ORed.","items":{"$ref":"#/components/schemas/DspAudienceRule"},"maxItems":1,"minItems":1,"type":"array"}},"required":["audienceType","description","idempotencyKey","lookback","name","rules"],"type":"object"},"DspAudienceError":{"description":"The error object.","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"},"DspAudienceErrorItem":{"description":"The error response object.","properties":{"errors":{"items":{"$ref":"#/components/schemas/DspAudienceErrorItemError"},"maxItems":7,"minItems":0,"type":"array"},"idempotencyKey":{"description":"The UUID provided in the request for creation of this audience.","type":"string"},"index":{"description":"The index of the DspAudienceCreateRequestItem from the request, e.g. 1st item in the batch request will correspond to index 0 in the response.","type":"integer"},"message":{"description":"A human-readable description of the response.","type":"string"}},"required":["errors","idempotencyKey","index","message"]},"DspAudienceErrorItemError":{"description":"The error object.","properties":{"errorType":{"enum":["OTHER","VALUE_INVALID","VALUE_OUT_OF_RANGE"],"type":"string"},"fieldName":{"type":"string"},"message":{"type":"string"}},"required":["errorType","message"],"type":"object"},"DspAudienceResponse":{"description":"This holds an array of successful items and an array of error items from the request.","properties":{"error":{"description":"The items in this array represent items in the request that failed.","items":{"$ref":"#/components/schemas/DspAudienceErrorItem"},"maxItems":1,"minItems":0,"type":"array"},"success":{"description":"The items in this array represent items in the request that were successful.","items":{"$ref":"#/components/schemas/DspAudienceSuccessItem"},"maxItems":1,"minItems":0,"type":"array"}},"required":["error","success"],"type":"object"},"DspAudienceRule":{"description":"A rule for defining an audience.\n\n **Rule Constraints Table**: Provides available valid combinations of parameters allowed in DspAudienceRule\n  | audienceType | attributeType | attributeValues | max attribute values  |  max rules |\n  |------------------------------|-----------|-----------------------------------------------------------------------------------------------------|------|---|\n  | PRODUCT_PURCHASES            |      ASIN | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1 |\n  | PRODUCT_VIEWS                |      ASIN | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1 |\n  | PRODUCT_SEARCH               |      ASIN | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1 |\n  | PRODUCT_SIMS                 |      ASIN | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1 |\n  | WHOLE_FOODS_MARKET_PURCHASES |      ASIN | Whole Foods Market product IDs (ASINs) e.g. B01B2OVUAG                                              |  500 | 1 |\n","properties":{"attributeType":{"description":"For a given audienceType, the type of the attributes being supplied.","enum":["ASIN"],"type":"string"},"attributeValues":{"description":"For a given audienceType and attributeType combination, the attribute values being supplied.","items":{"type":"string"},"maxItems":1000,"minItems":1,"type":"array"},"clause":{"description":"This parameter is used to include or exclude this particular rule. Currently only include is supported.","enum":["INCLUDE"],"type":"string"},"operator":{"description":"For a given attributeType, the operator used for attributeValues.","enum":["ONE_OF"],"type":"string"}},"required":["attributeType","attributeValues","clause","operator"],"type":"object"},"DspAudienceSuccessItem":{"description":"The success response object.","properties":{"audienceId":{"description":"The audience identifier.","type":"string"},"idempotencyKey":{"description":"The UUID provided in the request for creation of this audience.","type":"string"},"index":{"description":"The index of the DspAudienceCreateRequestItem from the request, e.g. 1st item in the batch request will correspond to index 0 in the response.","type":"integer"}},"required":["audienceId","idempotencyKey","index"],"type":"object"}},"securitySchemes":{}},"info":{"title":"ADSP Audiences","version":"3.0"},"openapi":"3.0.1","paths":{"/dsp/audiences":{"post":{"description":"Creates a targeting audience based on an audience definition.\n\n**Requires one of these permissions**:\n[\"advertiser_campaign_edit\",\"advertiser_campaign_view\",\"audiences_edit\"]","operationId":"dspCreateAudiencesPost","parameters":[{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"type":"string"}},{"description":"The advertiser to create audience for.","in":"query","name":"advertiserId","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.dspaudiences.v1+json":{"schema":{"items":{"$ref":"#/components/schemas/DspAudienceCreateRequestItem"},"maxItems":1,"minItems":1,"type":"array"}}},"description":"An array of audience objects. For each object, specify required fields and their values. Maximum length of the array is 1."},"responses":{"207":{"content":{"application/vnd.dspaudiencesresponse.v1+json":{"schema":{"$ref":"#/components/schemas/DspAudienceResponse"}}},"description":"This holds an object representing an array of success items and an arrray of error (failed) items corresponding to the index in the request body."},"400":{"content":{"application/vnd.dspaudienceserror.v1+json":{"example":{"message":"Malformed JSON"},"schema":{"$ref":"#/components/schemas/DspAudienceError"}}},"description":"Bad request or request body is not matching with input model."},"403":{"content":{"application/vnd.dspaudienceserror.v1+json":{"example":{"message":"Unauthorized Access"},"schema":{"$ref":"#/components/schemas/DspAudienceError"}}},"description":"Forbidden - request failed because user is not authorized to access a resource."}},"summary":"Creates an audience.","tags":["Audiences"]}}}}