{"components":{"callbacks":{},"examples":{},"headers":{},"links":{},"parameters":{},"requestBodies":{},"responses":{},"schemas":{"HashedRecord":{"properties":{"address":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The street address normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"f0b5c2c2211c8d67ed15e75e656c7862d086e9245420892a7de62cd9ec582a06"},"city":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The city normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"06e9d52c1720fca412803e3b07c4b228ff113e303f4c7ab94665319d832bbfb7"},"email":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The email address normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"1121cfccd5913f0a63fec40a6ffd44ea64f9dc135c66634ba001d10bcf4302a2"},"firstName":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The first name normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"4355a46b19d348dc2f57c046f8ef63d4538ebb936000f3c9ee954a27460dd865"},"lastName":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The last name normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"53c234e5e8472b6ac51c1ae1cab3fe06fad053beb8ebfd8977b010655bfdd3c3"},"phone":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The phone number normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"7de1555df0c2700329e815b93b32c571c3ea54dc967b89e81ab73b9972b72d1d"},"postalCode":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The postal code normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"aa67a169b0bba217aa0aa88a65346920c84c42447c36ba5f7ea65f422c1fe5d8"},"state":{"allOf":[{"$ref":"#/components/schemas/Sha256String"}],"description":"The state or province normalized and hashed [according to the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","example":"10159baf262b43a92d95db59dae1f72c645127301661e0a3ce4e38b295a97c58"}},"type":"object"},"IngestionRecord":{"properties":{"externalId":{"description":"The external identifier for this record.  This can be any ID unique to the record in the caller\u0027s own identity space, and following regex pattern [0-9a-zA-Z\\-\\_]{1,128}","example":"dpid1","pattern":"[0-9a-zA-Z\\-\\_]{1,128}","type":"string"},"hashedRecords":{"description":"list of hashed records data","items":{"$ref":"#/components/schemas/HashedRecord"},"type":"array"}},"required":["externalId","hashedRecords"],"type":"object"},"IngestionRecordsList":{"description":"The list of hashed records.","items":{"$ref":"#/components/schemas/IngestionRecord"},"type":"array"},"Sha256String":{"maxLength":64,"minLength":64,"pattern":"[0-9a-f]{64}","type":"string"}},"securitySchemes":{}},"info":{"description":"Amazon DSP users can now use the hashed records API through the Amazon Advertising API to match Amazon shoppers with their hashed customer records including name, email, mobile, address, and zip code. Advertisers can further use the data provider APIs (https://advertising.amazon.com/API/docs/en-us/data-provider/openapi#/) to programmatically create audiences for use in their campaigns by their owned or sourced hashed customer records.","title":"Hashed Records","version":"3.0"},"openapi":"3.0.1","paths":{"/dp/records/hashed":{"post":{"description":"Saves a batch of hashed personally-identifiable information (PII) records to be matched with Amazon identities for future use.  All inputs must be properly normalized and SHA-256 hashed as defined [in the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C).","operationId":"UploadHashedRecords","parameters":[{"description":"A valid access token.","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"type":"string"}},{"description":"The Content-Type is application/json.","in":"header","name":"Content-Type","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.dpuploadhashedrecordsrequest.v3+json":{"schema":{"properties":{"records":{"$ref":"#/components/schemas/IngestionRecordsList"}},"required":["records"],"type":"object"}}},"description":"Hashed PII records to be matched with Amazon identities for future use.  All inputs must be properly normalized and SHA-256 hashed as defined [in the documentation](https://advertising.amazon.com/help/GCCXMZYCK4RXWS6C). Max input size 5MB."},"responses":{"200":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"requestId":{"example":"bcbeed64-d612-4f76-866e-8dbd25f73331","type":"string"}},"type":"object"}}},"description":"The records were successfully uploaded"},"400":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"Failed to parse request data. It might not be a valid JSON object.","type":"string"}},"type":"object"}},"application/vnd.dpuploadhashedrecordsresponse.v3.1+json":{"schema":{"properties":{"errorMessage":{"example":"Hashed records associated with [externalId:dpid1] contains invalid hashed attributes [...].","type":"string"}},"type":"object"}}},"description":"Request is malformed or contains invalid data"},"401":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"The caller is not authorized to perform this operation.","type":"string"}},"type":"object"}}},"description":"The caller is not authorized for this operation."},"413":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"The request exceeded the max size acceptable by the API. Max request size is 5 MB.","type":"string"}},"type":"object"}}},"description":"The caller is not authorized for this operation."},"415":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"Invalid `accept` header provided. Please ensure you are specifying supported version for the requested resource.","type":"string"}},"type":"object"}}},"description":"Unsupported Media Type."},"429":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"example":{"errorMessage":"Too Many Requests"},"type":"object"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"Failed to persist request data due to unexpected internal server error.","type":"string"}},"type":"object"}}},"description":"Internal Server Error"},"503":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"Service is currently not available.","type":"string"}},"type":"object"}}},"description":"Service Unavailable."},"505":{"content":{"application/vnd.dpuploadhashedrecordsresponse.v3+json":{"schema":{"properties":{"errorMessage":{"example":"Failed to persist request data due to dependency service timeout. Please retry.","type":"string"}},"type":"object"}}},"description":"Dependency service timed out"}},"summary":"Upload a batch of hashed records for matching","tags":["Hashed Records"]}}}}