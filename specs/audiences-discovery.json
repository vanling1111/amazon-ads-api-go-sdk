{"components":{"callbacks":{},"examples":{},"headers":{},"links":{},"parameters":{},"requestBodies":{},"responses":{},"schemas":{"AccessDeniedErrorCode":{"enum":["ACCESS_DENIED"],"type":"string"},"AccessDeniedExceptionResponseContent":{"description":"User does not have sufficient access to perform this action.","properties":{"code":{"$ref":"#/components/schemas/AccessDeniedErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"},"AdMutationExceptionResponseContent":{"properties":{"code":{"$ref":"#/components/schemas/InvalidArgumentErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"},"AttributeType":{"description":"For a given audienceType, the type of the attributes being supplied.","enum":["ASIN"],"type":"string"},"AudienceCommonFieldsV1":{"properties":{"audienceId":{"description":"Audience segment identifier","type":"string"},"audienceName":{"description":"Audience name","type":"string"},"category":{"description":"Audience segment category","type":"string"},"createDate":{"format":"date-time","type":"string"},"description":{"description":"Audience description","type":"string"},"forecasts":{"properties":{"inventoryForecasts":{"properties":{"all":{"$ref":"#/components/schemas/InventoryForecastV1"}},"type":"object"}},"required":["inventoryForecasts"],"type":"object"},"status":{"enum":["Active","Deactivated","Deprecated","Failed","Pending","Processing"],"type":"string"},"subCategory":{"description":"Audience segment sub-category","type":"string"},"updateDate":{"format":"date-time","type":"string"}},"required":["audienceId","audienceName","category","description","forecasts","status"],"type":"object"},"AudienceDeleteAccessDeniedExceptionResponseContent":{"description":"User does not have sufficient access to perform this action.","properties":{"errorResponse":{"$ref":"#/components/schemas/DspAudienceDeleteResponse"}},"required":["errorResponse"],"type":"object"},"AudienceDeleteAdMutationExceptionResponseContent":{"properties":{"errorResponse":{"$ref":"#/components/schemas/DspAudienceDeleteResponse"}},"required":["errorResponse"],"type":"object"},"AudienceDeleteBadGatewayExceptionResponseContent":{"description":"Unexpected error during processing of request.","properties":{"errorResponse":{"$ref":"#/components/schemas/DspAudienceDeleteResponse"}},"required":["errorResponse"],"type":"object"},"AudienceDeleteInternalServerExceptionResponseContent":{"description":"Unexpected error during processing of request.","properties":{"errorResponse":{"$ref":"#/components/schemas/DspAudienceDeleteResponse"}},"required":["errorResponse"],"type":"object"},"AudienceDeleteThrottlingExceptionResponseContent":{"description":"Request was denied due to request throttling.","properties":{"errorResponse":{"$ref":"#/components/schemas/DspAudienceDeleteResponse"}},"required":["errorResponse"],"type":"object"},"AudienceDeleteUnauthorizedExceptionResponseContent":{"description":"Caller does not have permissions to edit specified audience.","properties":{"errorResponse":{"$ref":"#/components/schemas/DspAudienceDeleteResponse"}},"required":["errorResponse"],"type":"object"},"AudienceErrorV1":{"description":"The error response object.","properties":{"errors":{"items":{"$ref":"#/components/schemas/AudienceSubErrorV1"},"type":"array"},"message":{"description":"A human-readable description of the response.","type":"string"},"requestId":{"description":"A value created by Amazon API Gateway that uniquely identifies your request.","type":"string"}},"type":"object"},"AudienceFilterV1":{"properties":{"field":{"description":"Field to filter by. Supported enums are \u0027audienceName\u0027, \u0027category\u0027, \u0027categoryPath\u0027, \u0027audienceId\u0027 and \u0027status\u0027. The \u0027audienceName\u0027 is a broad match filter but not an exact match. The \u0027category\u0027 enum returns all audiences under a high-level category, whereas the \u0027categoryPath\u0027 enum expects a path of nodes in the taxonomy tree and returns audiences attached directly to the node at the specified path.","type":"string"},"operator":{"default":"EQ","description":"Operator to apply to the specified filter.","enum":["EQ","NOT_EQ"],"type":"string"},"values":{"items":{"type":"string"},"type":"array"}},"type":"object"},"AudienceSubErrorV1":{"description":"The sub error object.","properties":{"errorType":{"type":"string"},"fieldName":{"type":"string"},"message":{"type":"string"}},"required":["errorType","message"],"type":"object"},"AudienceType":{"description":"Type of the audience which is being edited.\nThis type must match the current audience type associated with the audienceId.","enum":["PRODUCT_PURCHASES","PRODUCT_SEARCH","PRODUCT_SIMS","PRODUCT_VIEWS"],"type":"string"},"AudienceV1":{"allOf":[{"$ref":"#/components/schemas/AudienceCommonFieldsV1"},{"oneOf":[{"$ref":"#/components/schemas/DSPAudienceFieldsV1"},{"$ref":"#/components/schemas/SDAudienceFieldsV1"},{"$ref":"#/components/schemas/STAudienceFieldsV1"}]}]},"BadGatewayErrorCode":{"enum":["BAD_GATEWAY"],"type":"string"},"BadGatewayExceptionResponseContent":{"description":"Unexpected error during processing of request.","properties":{"code":{"$ref":"#/components/schemas/BadGatewayErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"},"Clause":{"description":"parameter used to include or exclude this particular rule. Currently only include is supported.","enum":["INCLUDE"],"type":"string"},"DSPAudienceFieldsV1":{"properties":{"fees":{"description":"Fees that will apply to this segment. Not all segments have fees. Fees may differ depending on the supply type the segment is attached to. In this case, multiple fee objects will be present.","items":{"properties":{"amount":{"description":"Fee amount in base currency units, multiplied by scaling factor (\u0027scale\u0027).","type":"integer"},"currency":{"description":"Base currency, such as US Dollar.","enum":["AED","AUD","BRL","CAD","EUR","GBP","INR","JPY","KSA","MXN","SEK","TRY","USD"],"type":"string"},"feeCalculationType":{"description":"How the fee is applied.","type":"string"},"impressionSupplyType":{"description":"To which supply types this fee applies to. The fee may be different for different supply types.","type":"string"},"scale":{"description":"Scale of the amount relative to the base currency unit. For instance, if the scale is 1000, the currency is USD, and the amount is 500, the human-readable fee is $0.50.","type":"integer"}},"type":"object"},"type":"array"},"providerId":{"description":"The Data Management Platform provider identifier. Only applicable to Third party audience segments.","type":"string"}},"type":"object"},"DSPAudienceRule":{"description":"Rule to define an audience.\n\n**Rule Constraints Table**: Provides available valid combinations of parameters allowed in DspAudienceRule\n| audienceType | attributeType | attributeValues | max attribute values  |  max rules |\n|------------------------------|------------------|-----------------------------------------------------------------------------------------------------|------|---|\n| PRODUCT_PURCHASES            |        ASIN      | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1\n| PRODUCT_VIEWS                |        ASIN      | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1\n| PRODUCT_SEARCH               |        ASIN      | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1\n| PRODUCT_SIMS                 |        ASIN      | product IDs (ASINs) e.g. B08V4T57R2                                                                 | 1000 | 1","properties":{"attributeType":{"$ref":"#/components/schemas/AttributeType"},"attributeValues":{"description":"For a given audienceType and attributeType combination, the attribute values being supplied.","items":{"type":"string"},"maxItems":1000,"minItems":1,"type":"array"},"clause":{"$ref":"#/components/schemas/Clause"},"operator":{"$ref":"#/components/schemas/Operator"}},"required":["attributeType","attributeValues","clause","operator"],"type":"object"},"DSPInventoryForecastV1":{"properties":{"dailyImpressions":{"$ref":"#/components/schemas/ForecastBucketV1","description":"The forecasted available daily impressions for the inventory type."},"dailyReach":{"$ref":"#/components/schemas/ForecastBucketV1","description":"The forecasted unique devices reachable daily for the inventory type."}},"required":["dailyImpressions","dailyReach"],"type":"object"},"DspAudienceDeleteErrorItem":{"properties":{"audienceId":{"description":"Identifier of audience for which delete was attempted.","maxLength":128,"minLength":1,"type":"string"},"errors":{"items":{"$ref":"#/components/schemas/DspAudienceDeleteErrorItemError"},"maxItems":7,"minItems":0,"type":"array"},"httpStatusCode":{"description":"HTTP Response Code for the request","type":"integer"},"index":{"description":"Index of the DspAudienceDeleteRequestItem from the request. e.g. 1st item in the request will correspond to index 0 in the response.","type":"integer"},"message":{"description":"A human-readable description of the response.","type":"string"},"requestId":{"type":"string"}},"required":["audienceId","errors","httpStatusCode","index","message","requestId"],"type":"object"},"DspAudienceDeleteErrorItemError":{"properties":{"errorCode":{"$ref":"#/components/schemas/ErrorType"},"errorId":{"type":"integer"},"errorMessage":{"type":"string"},"fieldName":{"type":"string"}},"required":["errorCode","errorId","errorMessage"],"type":"object"},"DspAudienceDeleteRequestContent":{"properties":{"dspAudienceDeleteRequestItems":{"description":"A list of audiences to be deleted","items":{"$ref":"#/components/schemas/DspAudienceDeleteRequestItem"},"maxItems":1,"minItems":1,"type":"array"}},"required":["dspAudienceDeleteRequestItems"],"type":"object"},"DspAudienceDeleteRequestItem":{"properties":{"audienceId":{"description":"The audience identifier of the audience to be actioned.","maxLength":128,"minLength":1,"type":"string"},"idempotencyKey":{"description":"unique request token for this request.","pattern":"[A-Za-z1-9\\-]{1,36}","type":"string"}},"required":["audienceId","idempotencyKey"],"type":"object"},"DspAudienceDeleteResponse":{"description":"Holds an array of successful items and an array of error items from the request.","properties":{"failed":{"items":{"$ref":"#/components/schemas/DspAudienceDeleteErrorItem"},"maxItems":1,"minItems":0,"type":"array"},"success":{"items":{"$ref":"#/components/schemas/DspAudienceDeleteSuccessItem"},"maxItems":1,"minItems":0,"type":"array"}},"required":["failed","success"],"type":"object"},"DspAudienceDeleteResponseContent":{"description":"Holds an array of successful items and an array of error items from the request.","properties":{"failed":{"items":{"$ref":"#/components/schemas/DspAudienceDeleteErrorItem"},"maxItems":1,"minItems":0,"type":"array"},"success":{"items":{"$ref":"#/components/schemas/DspAudienceDeleteSuccessItem"},"maxItems":1,"minItems":0,"type":"array"}},"required":["failed","success"],"type":"object"},"DspAudienceDeleteSuccessItem":{"description":"The success response object.","properties":{"audienceId":{"description":"The audience identifier of the audience to be actioned.","maxLength":128,"minLength":1,"type":"string"},"idempotencyKey":{"description":"unique request token for this request.","type":"string"},"index":{"description":"index of the DspAudienceEditRequestItem from the request. e.g. 1st item in the request will correspond to index 0 in the response.","type":"integer"}},"required":["audienceId","idempotencyKey","index"],"type":"object"},"DspAudienceEditRequestContent":{"properties":{"dspAudienceEditRequestItems":{"description":"A list of audience edit objects containing fields to be overwritten. For each object, specify fields and their values to be modified.","items":{"$ref":"#/components/schemas/DspAudienceEditRequestItem"},"maxItems":1,"minItems":1,"type":"array"}},"required":["dspAudienceEditRequestItems"],"type":"object"},"DspAudienceEditRequestItem":{"description":"Partial audience model to be used for edit of the audience.","properties":{"audienceId":{"description":"The audience identifier of the audience to be actioned.","maxLength":128,"minLength":1,"type":"string"},"audienceType":{"$ref":"#/components/schemas/AudienceType"},"description":{"description":"The audience description.","maxLength":1000,"minLength":1,"type":"string"},"idempotencyKey":{"description":"unique request token for this request.","pattern":"[A-Za-z1-9\\-]{1,36}","type":"string"},"lookback":{"description":"The specified time period (in days) to include those who performed the action in the audience.\nLookback Constraints Table: Provides available valid values of lookback allowed for given audienceType\n| audienceType | lookback range |\n|------------------------------|-------|\n| PRODUCT_PURCHASES            | 1-365 |\n| PRODUCT_VIEWS                |  1-90 |\n| PRODUCT_SEARCH               |  1-90 |\n| PRODUCT_SIMS                 |  1-90 |","maximum":365,"minimum":1,"type":"integer"},"name":{"description":"The audience name.","maxLength":128,"minLength":1,"type":"string"},"rules":{"description":"Set of rules to define an audience, these rules will be ORed.","items":{"$ref":"#/components/schemas/DSPAudienceRule"},"maxItems":1,"minItems":1,"type":"array"}},"required":["audienceId","audienceType","idempotencyKey"],"type":"object"},"DspAudienceEditResponseContent":{"description":"Holds an array of successful items and an array of error items from the request.","properties":{"failed":{"items":{"$ref":"#/components/schemas/DspAudienceErrorItem"},"maxItems":1,"minItems":0,"type":"array"},"success":{"items":{"$ref":"#/components/schemas/DspAudienceSuccessItem"},"maxItems":1,"minItems":0,"type":"array"}},"required":["failed","success"],"type":"object"},"DspAudienceErrorItem":{"properties":{"audienceId":{"description":"Identifier of audience for which edit was attempted.","maxLength":128,"minLength":1,"type":"string"},"errors":{"items":{"$ref":"#/components/schemas/DspAudienceErrorItemError"},"maxItems":7,"minItems":0,"type":"array"},"idempotencyKey":{"description":"unique request token for this request.","type":"string"},"index":{"description":"Index of the DspAudienceEditRequestItem from the request. e.g. 1st item in the request will correspond to index 0 in the response.","type":"integer"},"message":{"description":"A human-readable description of the response.","type":"string"}},"required":["audienceId","errors","idempotencyKey","index","message"],"type":"object"},"DspAudienceErrorItemError":{"properties":{"errorType":{"$ref":"#/components/schemas/ErrorType"},"fieldName":{"type":"string"},"message":{"type":"string"}},"required":["errorType","message"],"type":"object"},"DspAudienceSuccessItem":{"description":"The success response object.","properties":{"audienceId":{"description":"The audience identifier of the audience to be actioned.","maxLength":128,"minLength":1,"type":"string"},"idempotencyKey":{"description":"unique request token for this request.","type":"string"},"index":{"description":"index of the DspAudienceEditRequestItem from the request. e.g. 1st item in the request will correspond to index 0 in the response.","type":"integer"}},"required":["audienceId","idempotencyKey","index"],"type":"object"},"ErrorType":{"enum":["OTHER","VALUE_INVALID","VALUE_NOT_FOUND","VALUE_OUT_OF_RANGE"],"type":"string"},"FetchTaxonomyNodeV1":{"properties":{"audienceCount":{"format":"int64","type":"integer"},"category":{"type":"string"}},"type":"object"},"FetchTaxonomyRequestBodyV1":{"description":"The response data will have the categories that are under the given path, and main categories will be returned if no path is specified. The response data also depends on the adType specified here since ad programs may support targeting audiences in certain categories.","properties":{"adType":{"enum":["DSP","SD","ST"],"type":"string"},"categoryPath":{"items":{"type":"string"},"type":"array"},"countries":{"description":"The ISO Alpha-2 country codes to search audiences from. This field must be specified if the advertiser does not have an associated country. Currently, it is only supported to specify a single country per request.","items":{"type":"string"},"maxItems":1,"minItems":1,"type":"array"}},"type":"object"},"FetchTaxonomyResponseV1":{"properties":{"categories":{"items":{"$ref":"#/components/schemas/FetchTaxonomyNodeV1"},"type":"array"},"categoryPath":{"items":{"type":"string"},"type":"array"},"nextToken":{"type":"string"}},"type":"object"},"ForecastBucketV1":{"properties":{"lowerBoundInclusive":{"description":"The inclusive lower bound for the bucket.  If not specified, the bucket captures all values below the upper bound.","format":"int64","type":"integer"},"upperBoundExclusive":{"description":"The exclusive upper bound for the bucket.  If not specified, the bucket captures all values above the lower bound.","format":"int64","type":"integer"}},"type":"object"},"InternalErrorErrorCode":{"enum":["INTERNAL_ERROR"],"type":"string"},"InternalServerExceptionResponseContent":{"description":"Unexpected error during processing of request.","properties":{"code":{"$ref":"#/components/schemas/InternalErrorErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"},"InvalidArgumentErrorCode":{"enum":["INVALID_ARGUMENT"],"type":"string"},"InventoryForecastV1":{"oneOf":[{"$ref":"#/components/schemas/DSPInventoryForecastV1"},{"$ref":"#/components/schemas/SDInventoryForecastV1"},{"$ref":"#/components/schemas/STInventoryForecastV1"}]},"ListAudiencesRequestBodyV1":{"description":"Resulting segments will match all specified filters","properties":{"adType":{"enum":["DSP","SD","ST"],"type":"string"},"countries":{"description":"The ISO Alpha-2 country codes to search audiences from. This field must be specified if the advertiser does not have an associated country. Currently, it is only supported to specify a single country per request.","items":{"type":"string"},"maxItems":1,"minItems":1,"type":"array"},"filters":{"items":{"$ref":"#/components/schemas/AudienceFilterV1"},"type":"array"}},"type":"object"},"ListAudiencesResponseV1":{"properties":{"audiences":{"description":"Array of segments matching given filters sorted by create time, earliest first.","items":{"$ref":"#/components/schemas/AudienceV1"},"type":"array"},"matchCount":{"format":"int64","type":"integer"},"nextToken":{"type":"string"}},"type":"object"},"NotFoundErrorCode":{"enum":["NOT_FOUND"],"type":"string"},"Operator":{"description":"For a given attributeType, operator used for attributeValues.","enum":["ONE_OF"],"type":"string"},"ResourceNotFoundExceptionResponseContent":{"description":"Request references a resource which does not exist.","properties":{"code":{"$ref":"#/components/schemas/NotFoundErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"},"SDAudienceFieldsV1":{"type":"object"},"SDInventoryForecastV1":{"properties":{"dailyReach":{"$ref":"#/components/schemas/ForecastBucketV1","description":"The forecasted unique devices reachable daily for the inventory type."}},"required":["dailyReach"],"type":"object"},"STAudienceFieldsV1":{"type":"object"},"STInventoryForecastV1":{"properties":{"dailyReach":{"$ref":"#/components/schemas/ForecastBucketV1","description":"The forecasted unique devices reachable daily for the inventory type."}},"required":["dailyReach"],"type":"object"},"ThrottledErrorCode":{"enum":["THROTTLED"],"type":"string"},"ThrottlingExceptionResponseContent":{"description":"Request was denied due to request throttling.","properties":{"code":{"$ref":"#/components/schemas/ThrottledErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"},"UnauthorizedErrorCode":{"enum":["UNAUTHORIZED"],"type":"string"},"UnauthorizedExceptionResponseContent":{"description":"Caller does not have permissions to edit specified audience.","properties":{"code":{"$ref":"#/components/schemas/UnauthorizedErrorCode"},"message":{"description":"Human readable error message.","type":"string"},"requestId":{"description":"RequestId of the failed request.","type":"string"}},"required":["code","message","requestId"],"type":"object"}},"securitySchemes":{}},"info":{"description":"Audience Discovery API","title":"Audiences","version":"3.0"},"openapi":"3.0.1","paths":{"/audiences/list":{"post":{"description":"Returns a list of audience segments for an advertiser. The result set can be filtered by providing an array of Filter objects. Each item in the resulting set will match all specified filters.\n\n**Authorized resource type**:\nDSP Rodeo Entity ID, DSP Advertiser Account ID\n\n**Parameter name**:\nAmazon-Advertising-AccountId\n\n**Parameter in**:\nheader\n\n**Requires one of these permissions**:\n[\"advertiser_campaign_edit\",\"advertiser_campaign_view\",\"campaign_edit\"]","operationId":"listAudiences","parameters":[{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"type":"string"}},{"description":"The advertiser to retrieve segments for. This parameter is required for the DSP adType, but optional for the SD adType.","in":"query","name":"advertiserId","required":false,"schema":{"type":"string"}},{"description":"When set to true, only targetable audience segments will be returned.","in":"query","name":"canTarget","required":false,"schema":{"default":"false","type":"boolean"}},{"description":"Token from a previous request. Use in conjunction with the `maxResults` parameter to control pagination of the returned array.","in":"query","name":"nextToken","required":false,"schema":{"type":"string"}},{"description":"Sets the maximum number of audiences in the returned array. Use in conjunction with the `nextToken` parameter to control pagination. For example, supplying maxResults\u003d20 with a previously returned token will fetch up to the next 20 items. In some cases, fewer items may be returned.","in":"query","name":"maxResults","required":false,"schema":{"default":"10","maximum":250,"minimum":1,"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAudiencesRequestBodyV1"}}},"required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAudiencesResponseV1"}}},"description":"Success"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Bad Request. The request could not be processed or handled. Please correct the issues specified and try again."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Forbidden. The request failed because the user is unauthenticated or does not have access to the specified resource."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Too Many Requests. The request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Internal Server Error. Something went wrong on the server. Retry later and report an error if unresolved."}},"summary":"Gets audience segments based on filters","tags":["Discovery"]}},"/audiences/taxonomy/list":{"post":{"description":"Returns a list of audience categories for a given category path\n\n**Authorized resource type**:\nDSP Rodeo Entity ID, DSP Advertiser Account ID\n\n**Parameter name**:\nAmazon-Advertising-AccountId\n\n**Parameter in**:\nheader\n\n**Requires one of these permissions**:\n[\"advertiser_campaign_edit\",\"advertiser_campaign_view\",\"campaign_edit\"]","operationId":"fetchTaxonomy","parameters":[{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header.","in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"type":"string"}},{"description":"The advertiser associated with the advertising account. This parameter is required for the DSP adType, but optional for the SD adType.","in":"query","name":"advertiserId","required":false,"schema":{"type":"string"}},{"description":"Token from a previous request. Use in conjunction with the `maxResults` parameter to control pagination of the returned array.","in":"query","name":"nextToken","required":false,"schema":{"type":"string"}},{"description":"Sets the maximum number of categories in the returned array. Use in conjunction with the `nextToken` parameter to control pagination. For example, supplying maxResults\u003d20 with a previously returned token will fetch up to the next 20 items. In some cases, fewer items may be returned.","in":"query","name":"maxResults","required":false,"schema":{"default":"250","maximum":250,"minimum":1,"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FetchTaxonomyRequestBodyV1"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FetchTaxonomyResponseV1"}}},"description":"Success"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Bad Request. The request could not be processed or handled. Please correct the issues specified and try again."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Forbidden. The request failed because the user is unauthenticated or does not have access to the specified resource."},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Too Many Requests. The request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceErrorV1"}}},"description":"Internal Server Error. Something went wrong on the server. Retry later and report an error if unresolved."}},"summary":"Browse the taxonomy of audience categories","tags":["Discovery"]}},"/dsp/audiences/delete":{"post":{"description":"Deletes an existing targeting audience based on audience ID. Only available for the audiences of the type: *PRODUCT_PURCHASES*, *PRODUCT_VIEWS*, *PRODUCT_SIMS*, *PRODUCT_SEARCH* and *COMBINED_AUDIENCE*\n\n**Requires one of these permissions**:\n[\"advertiser_campaign_edit\",\"audiences_edit\"]","operationId":"DspAudienceDelete","parameters":[{"description":"ID that describe DSP advertiser level accounts that exists under a manager account (previously under a DSP entity). The owner of the audience.","examples":{"DspAudienceDelete_example1":{"summary":"Audience Delete Success example.","value":"592059203698558089"},"DspAudienceDelete_example2":{"summary":"Audience Delete Failure Example.","value":"592059203698558000"}},"in":"header","name":"AdvertiserId","required":true,"schema":{"description":"ID that describe DSP advertiser level accounts that exists under a manager account (previously under a DSP entity). The owner of the audience.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","examples":{"DspAudienceDelete_example1":{"summary":"Audience Delete Success example.","value":"amzn1.application-oa2-client.d23523d24fad2a0a2d16241f57183a7"},"DspAudienceDelete_example2":{"summary":"Audience Delete Failure Example.","value":"amzn1.application-oa2-client.d23523d24fad2a0a2d16241f57183a7"}},"in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","examples":{"DspAudienceDelete_example1":{"summary":"Audience Delete Success example.","value":"3900820857650036"},"DspAudienceDelete_example2":{"summary":"Audience Delete Failure Example.","value":"3900820857650000"}},"in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.dspaudiences.v1+json":{"examples":{"DspAudienceDelete_example1":{"summary":"Audience Delete Success example.","value":{"dspAudienceDeleteRequestItems":[{"audienceId":"4ga88r63","idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66afa6"}]}},"DspAudienceDelete_example2":{"summary":"Audience Delete Failure Example.","value":{"dspAudienceDeleteRequestItems":[{"audienceId":"4ga88r45","idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66aba5"}]}}},"schema":{"$ref":"#/components/schemas/DspAudienceDeleteRequestContent"}}},"required":true},"responses":{"207":{"content":{"application/vnd.dspaudiences.v1+json":{"examples":{"DspAudienceDelete_example1":{"summary":"Audience Delete Success example.","value":{"failed":[],"success":[{"audienceId":"4ga88r63","idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66afa6","index":"0"}]}},"DspAudienceDelete_example2":{"summary":"Audience Delete Failure Example.","value":{"failed":[{"audienceId":"4ga88r45","errors":[{"errorCode":"VALUE_INVALID","errorId":"10001","errorMessage":"Invalid Audience type selected."}],"httpStatusCode":"400","idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66aba5","index":"0","message":"Delete request failed.","requestId":"3fa85f64-5717-4562-b3fc-2c8563214cd3"}],"success":[]}}},"schema":{"$ref":"#/components/schemas/DspAudienceDeleteResponseContent"}}},"description":"DspAudienceDelete 207 response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceDeleteAdMutationExceptionResponseContent"}}},"description":"AudienceDeleteAdMutationException 400 response"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceDeleteUnauthorizedExceptionResponseContent"}}},"description":"AudienceDeleteUnauthorizedException 401 response"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceDeleteAccessDeniedExceptionResponseContent"}}},"description":"AudienceDeleteAccessDeniedException 403 response"},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceDeleteThrottlingExceptionResponseContent"}}},"description":"AudienceDeleteThrottlingException 429 response"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceDeleteInternalServerExceptionResponseContent"}}},"description":"AudienceDeleteInternalServerException 500 response"},"502":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceDeleteBadGatewayExceptionResponseContent"}}},"description":"AudienceDeleteBadGatewayException 502 response"}},"tags":["Ads"]}},"/dsp/audiences/edit":{"put":{"description":"Updates an existing targeting audience based on an audience definition and audience ID.\n\n**Requires one of these permissions**:\n[\"advertiser_campaign_edit\",\"audiences_edit\"]","operationId":"DspAudienceEdit","parameters":[{"description":"ID that describe DSP advertiser level accounts that exists under a manager account (previously under a DSP entity). The owner of the audience.","examples":{"DspAudienceEdit_example1":{"summary":"Audience Edit example.","value":"myAdvertiserId"}},"in":"header","name":"AdvertiserId","required":true,"schema":{"description":"ID that describe DSP advertiser level accounts that exists under a manager account (previously under a DSP entity). The owner of the audience.","type":"string"}},{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","examples":{"DspAudienceEdit_example1":{"summary":"Audience Edit example.","value":"myClientId"}},"in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"description":"The identifier of a client associated with a \"Login with Amazon\" account.","type":"string"}},{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","examples":{"DspAudienceEdit_example1":{"summary":"Audience Edit example.","value":"myAPIScope"}},"in":"header","name":"Amazon-Advertising-API-Scope","required":true,"schema":{"description":"The identifier of a profile associated with the advertiser account. Use `GET` method on Profiles resource to list profiles associated with the access token passed in the HTTP Authorization header and choose profile id `profileId` from the response to pass it as input.","type":"string"}}],"requestBody":{"content":{"application/vnd.dspaudiences.v1+json":{"examples":{"DspAudienceEdit_example1":{"summary":"Audience Edit example.","value":{"dspAudienceEditRequestItems":[{"audienceId":"4ga88r63","audienceType":"PRODUCT_PURCHASES","description":"Description for Audience Name.","idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66afa6","lookback":"10","name":"AudienceName","rules":[{"attributeType":"ASIN","attributeValues":["B08V4T57R2"],"clause":"INCLUDE","operator":"ONE_OF"}]}]}}},"schema":{"$ref":"#/components/schemas/DspAudienceEditRequestContent"}}},"required":true},"responses":{"200":{"content":{"application/vnd.dspaudiences.v1+json":{"examples":{"DspAudienceEdit_example1":{"summary":"Audience Edit example.","value":{"failed":[{"audienceId":"4ga88r63","errors":[{"errorType":"VALUE_INVALID","fieldName":"audienceType","message":"Invalid Audience type selected"}],"idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66afa6","index":"0","message":"Edit request failed."}],"success":[{"audienceId":"4ga88r63","idempotencyKey":"3fa85f64-5717-4562-b3fc-2c963f66afa6","index":"0"}]}}},"schema":{"$ref":"#/components/schemas/DspAudienceEditResponseContent"}}},"description":"DspAudienceEdit 200 response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdMutationExceptionResponseContent"}}},"description":"AdMutationException 400 response"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponseContent"}}},"description":"UnauthorizedException 401 response"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessDeniedExceptionResponseContent"}}},"description":"AccessDeniedException 403 response"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceNotFoundExceptionResponseContent"}}},"description":"ResourceNotFoundException 404 response"},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThrottlingExceptionResponseContent"}}},"description":"ThrottlingException 429 response"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerExceptionResponseContent"}}},"description":"InternalServerException 500 response"},"502":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadGatewayExceptionResponseContent"}}},"description":"BadGatewayException 502 response"}},"tags":["Ads"]}}}}